<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XIIEngine: xiiDefaultMemoryStreamStorage Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../XII-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XIIEngine
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.htm','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/df7/classxii_default_memory_stream_storage.htm','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d5/d79/classxii_default_memory_stream_storage-members.htm">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xiiDefaultMemoryStreamStorage Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>The default implementation for memory stream storage.  
 <a href="../../dc/df7/classxii_default_memory_stream_storage.htm#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../db/de0/_memory_stream_8h_source.htm">MemoryStream.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for xiiDefaultMemoryStreamStorage:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/de8/classxii_default_memory_stream_storage__inherit__graph.png" border="0" usemap="#xii_default_memory_stream_storage_inherit__map" alt="Inheritance graph"/></div>
<map name="xii_default_memory_stream_storage_inherit__map" id="xii_default_memory_stream_storage_inherit__map">
<area shape="rect" title="The default implementation for memory stream storage." alt="" coords="10,80,247,107"/>
<area shape="rect" href="../../d3/daa/classxii_memory_stream_storage_interface.htm" title="Instances of this class act as storage for memory streams." alt="" coords="5,5,252,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.htm">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af65cb1f291cb1dd17d5108cd8051070c"><td class="memItemLeft" align="right" valign="top"><a id="af65cb1f291cb1dd17d5108cd8051070c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>xiiDefaultMemoryStreamStorage</b> (xiiUInt32 uiInitialCapacity=0, <a class="el" href="../../d5/d66/classxii_allocator_base.htm">xiiAllocatorBase</a> *pAllocator=<a class="el" href="../../dd/daf/classxii_foundation.htm#a40d4e876d8aa817b36d04d0cac497fb8">xiiFoundation::GetDefaultAllocator</a>())</td></tr>
<tr class="separator:af65cb1f291cb1dd17d5108cd8051070c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9701db5cd53d44dd480b42a7b679f56f"><td class="memItemLeft" align="right" valign="top"><a id="a9701db5cd53d44dd480b42a7b679f56f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#a9701db5cd53d44dd480b42a7b679f56f">Reserve</a> (xiiUInt64 uiBytes) override</td></tr>
<tr class="memdesc:a9701db5cd53d44dd480b42a7b679f56f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserves N bytes of storage. <br /></td></tr>
<tr class="separator:a9701db5cd53d44dd480b42a7b679f56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aff34a4a4b5cb77c3df3a3fdaf481a1"><td class="memItemLeft" align="right" valign="top"><a id="a5aff34a4a4b5cb77c3df3a3fdaf481a1"></a>
virtual xiiUInt64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#a5aff34a4a4b5cb77c3df3a3fdaf481a1">GetStorageSize64</a> () const override</td></tr>
<tr class="memdesc:a5aff34a4a4b5cb77c3df3a3fdaf481a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of bytes that are currently stored. <br /></td></tr>
<tr class="separator:a5aff34a4a4b5cb77c3df3a3fdaf481a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4c619880d5b0252fea2bc4521a66f3"><td class="memItemLeft" align="right" valign="top"><a id="a4c4c619880d5b0252fea2bc4521a66f3"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#a4c4c619880d5b0252fea2bc4521a66f3">Clear</a> () override</td></tr>
<tr class="memdesc:a4c4c619880d5b0252fea2bc4521a66f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the entire storage. All readers and writers must be reset to start from the beginning again. <br /></td></tr>
<tr class="separator:a4c4c619880d5b0252fea2bc4521a66f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941c0d70653d969a87d2d9c6c7e82b7f"><td class="memItemLeft" align="right" valign="top"><a id="a941c0d70653d969a87d2d9c6c7e82b7f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#a941c0d70653d969a87d2d9c6c7e82b7f">Compact</a> () override</td></tr>
<tr class="memdesc:a941c0d70653d969a87d2d9c6c7e82b7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates any allocated memory that's not needed to hold the currently stored data. <br /></td></tr>
<tr class="separator:a941c0d70653d969a87d2d9c6c7e82b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf726d7f9b2b202bc12a40db5c550490"><td class="memItemLeft" align="right" valign="top"><a id="acf726d7f9b2b202bc12a40db5c550490"></a>
virtual xiiUInt64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#acf726d7f9b2b202bc12a40db5c550490">GetHeapMemoryUsage</a> () const override</td></tr>
<tr class="memdesc:acf726d7f9b2b202bc12a40db5c550490"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of bytes that are currently allocated on the heap. <br /></td></tr>
<tr class="separator:acf726d7f9b2b202bc12a40db5c550490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada1e555b8c18e4d151ecfc7665f0c83"><td class="memItemLeft" align="right" valign="top"><a id="aada1e555b8c18e4d151ecfc7665f0c83"></a>
virtual <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#aada1e555b8c18e4d151ecfc7665f0c83">CopyToStream</a> (<a class="el" href="../../d0/d18/classxii_stream_writer.htm">xiiStreamWriter</a> &amp;ref_stream) const override</td></tr>
<tr class="memdesc:aada1e555b8c18e4d151ecfc7665f0c83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the entire content of the storage to the provided stream. <br /></td></tr>
<tr class="separator:aada1e555b8c18e4d151ecfc7665f0c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd0bc93dee9f4325608de22d8797115"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d0/d60/classxii_array_ptr.htm">xiiArrayPtr</a>&lt; const xiiUInt8 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#a1bd0bc93dee9f4325608de22d8797115">GetContiguousMemoryRange</a> (xiiUInt64 uiStartByte) const override</td></tr>
<tr class="memdesc:a1bd0bc93dee9f4325608de22d8797115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a read-only <a class="el" href="../../d0/d60/classxii_array_ptr.htm" title="This class encapsulates an array and it&#39;s size. It is recommended to use this class instead of plain ...">xiiArrayPtr</a> that represents a contiguous area in memory which starts at the given first byte.  <a href="../../dc/df7/classxii_default_memory_stream_storage.htm#a1bd0bc93dee9f4325608de22d8797115">More...</a><br /></td></tr>
<tr class="separator:a1bd0bc93dee9f4325608de22d8797115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae49ba258c385acc8b615167737703715"><td class="memItemLeft" align="right" valign="top"><a id="ae49ba258c385acc8b615167737703715"></a>
virtual <a class="el" href="../../d0/d60/classxii_array_ptr.htm">xiiArrayPtr</a>&lt; xiiUInt8 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#ae49ba258c385acc8b615167737703715">GetContiguousMemoryRange</a> (xiiUInt64 uiStartByte) override</td></tr>
<tr class="memdesc:ae49ba258c385acc8b615167737703715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-const overload of <a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#a1bd0bc93dee9f4325608de22d8797115" title="Returns a read-only xiiArrayPtr that represents a contiguous area in memory which starts at the given...">GetContiguousMemoryRange()</a>. <br /></td></tr>
<tr class="separator:ae49ba258c385acc8b615167737703715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classxii_memory_stream_storage_interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classxii_memory_stream_storage_interface')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d3/daa/classxii_memory_stream_storage_interface.htm">xiiMemoryStreamStorageInterface</a></td></tr>
<tr class="memitem:af5b0c63688c9d06cc9e18e74d9ba2697 inherit pub_methods_classxii_memory_stream_storage_interface"><td class="memItemLeft" align="right" valign="top"><a id="af5b0c63688c9d06cc9e18e74d9ba2697"></a>
xiiUInt32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/daa/classxii_memory_stream_storage_interface.htm#af5b0c63688c9d06cc9e18e74d9ba2697">GetStorageSize32</a> () const</td></tr>
<tr class="memdesc:af5b0c63688c9d06cc9e18e74d9ba2697 inherit pub_methods_classxii_memory_stream_storage_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of bytes that are currently stored. Asserts that the stored amount is less than 4GB. <br /></td></tr>
<tr class="separator:af5b0c63688c9d06cc9e18e74d9ba2697 inherit pub_methods_classxii_memory_stream_storage_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5cf499f2dd9001a28f4c6eb6bb6a75 inherit pub_methods_classxii_memory_stream_storage_interface"><td class="memItemLeft" align="right" valign="top"><a id="a6a5cf499f2dd9001a28f4c6eb6bb6a75"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/daa/classxii_memory_stream_storage_interface.htm#a6a5cf499f2dd9001a28f4c6eb6bb6a75">ReadAll</a> (<a class="el" href="../../d4/d5e/classxii_stream_reader.htm">xiiStreamReader</a> &amp;ref_stream, xiiUInt64 uiMaxBytes=<a class="el" href="../../d1/d37/namespacexii_math.htm#a6bbce1588f70c91d6cad87e82a0238c1">xiiMath::MaxValue</a>&lt; xiiUInt64 &gt;())</td></tr>
<tr class="memdesc:a6a5cf499f2dd9001a28f4c6eb6bb6a75 inherit pub_methods_classxii_memory_stream_storage_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies all data from the given stream into the storage. <br /></td></tr>
<tr class="separator:a6a5cf499f2dd9001a28f4c6eb6bb6a75 inherit pub_methods_classxii_memory_stream_storage_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The default implementation for memory stream storage. </p>
<p>This implementation of <a class="el" href="../../d3/daa/classxii_memory_stream_storage_interface.htm" title="Instances of this class act as storage for memory streams.">xiiMemoryStreamStorageInterface</a> handles use cases both from very small to extremely large storage needs. It starts out with some inplace memory that can accommodate small amounts of data. To grow, additional chunks of data are allocated. No memory ever needs to be copied to grow the container. However, that also means that the memory isn't stored in one contiguous array, therefore data has to be accessed piece-wise through <a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#a1bd0bc93dee9f4325608de22d8797115" title="Returns a read-only xiiArrayPtr that represents a contiguous area in memory which starts at the given...">GetContiguousMemoryRange()</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1bd0bc93dee9f4325608de22d8797115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bd0bc93dee9f4325608de22d8797115">&#9670;&nbsp;</a></span>GetContiguousMemoryRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d60/classxii_array_ptr.htm">xiiArrayPtr</a>&lt; const xiiUInt8 &gt; xiiDefaultMemoryStreamStorage::GetContiguousMemoryRange </td>
          <td>(</td>
          <td class="paramtype">xiiUInt64&#160;</td>
          <td class="paramname"><em>uiStartByte</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a read-only <a class="el" href="../../d0/d60/classxii_array_ptr.htm" title="This class encapsulates an array and it&#39;s size. It is recommended to use this class instead of plain ...">xiiArrayPtr</a> that represents a contiguous area in memory which starts at the given first byte. </p>
<p>This piece of memory can be read/copied/modified in one operation (memcpy etc). The next byte after this slice may be located somewhere entirely different in memory. Call <a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm#a1bd0bc93dee9f4325608de22d8797115" title="Returns a read-only xiiArrayPtr that represents a contiguous area in memory which starts at the given...">GetContiguousMemoryRange()</a> again with the next byte after this range, to get access to the next memory area.</p>
<p>Chunks may differ in size. </p>

<p>Implements <a class="el" href="../../d3/daa/classxii_memory_stream_storage_interface.htm#a7fc9181fa4d93e445f3d0cba44ad29e1">xiiMemoryStreamStorageInterface</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/IO/<a class="el" href="../../db/de0/_memory_stream_8h_source.htm">MemoryStream.h</a></li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/IO/Implementation/MemoryStream.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/df7/classxii_default_memory_stream_storage.htm">xiiDefaultMemoryStreamStorage</a></li>
    <li class="footer">Generated on Thu Aug 17 2023 02:03:14 for XIIEngine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
