<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XIIEngine: xiiFileSystem Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../XII-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XIIEngine
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.htm','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/d0a/classxii_file_system.htm','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../dc/dde/classxii_file_system-members.htm">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xiiFileSystem Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="../../d7/d0a/classxii_file_system.htm" title="The xiiFileSystem provides high-level functionality to manage files in a virtual file system.">xiiFileSystem</a> provides high-level functionality to manage files in a virtual file system.  
 <a href="../../d7/d0a/classxii_file_system.htm#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/d58/_file_system_8h_source.htm">FileSystem.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/structxii_file_system_1_1_file_event.htm">FileEvent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The event data that is broadcast by the <a class="el" href="../../d7/d0a/classxii_file_system.htm" title="The xiiFileSystem provides high-level functionality to manage files in a virtual file system.">xiiFileSystem</a> upon certain file operations.  <a href="../../db/da4/structxii_file_system_1_1_file_event.htm#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d74/structxii_file_system_1_1_file_event_type.htm">FileEventType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes the type of events that are broadcast by the <a class="el" href="../../d7/d0a/classxii_file_system.htm" title="The xiiFileSystem provides high-level functionality to manage files in a virtual file system.">xiiFileSystem</a>.  <a href="../../d5/d74/structxii_file_system_1_1_file_event_type.htm#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a54bad68a9749727d4e8be83bb5a5999a"><td class="memItemLeft" align="right" valign="top"><a id="a54bad68a9749727d4e8be83bb5a5999a"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a54bad68a9749727d4e8be83bb5a5999a">DataDirUsage</a> { <b>ReadOnly</b>, 
<b>AllowWrites</b>
 }</td></tr>
<tr class="memdesc:a54bad68a9749727d4e8be83bb5a5999a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes in which mode a data directory is mounted. <br /></td></tr>
<tr class="separator:a54bad68a9749727d4e8be83bb5a5999a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aad24210ecbb52fba1841cac0ce1c11ba"><td class="memItemLeft" align="right" valign="top"><a id="aad24210ecbb52fba1841cac0ce1c11ba"></a>
static xiiEventSubscriptionID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#aad24210ecbb52fba1841cac0ce1c11ba">RegisterEventHandler</a> (<a class="el" href="../../dc/d22/classxii_event.htm">xiiEvent</a>&lt; const <a class="el" href="../../db/da4/structxii_file_system_1_1_file_event.htm">FileEvent</a> &amp; &gt;::Handler handler)</td></tr>
<tr class="memdesc:aad24210ecbb52fba1841cac0ce1c11ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an Event Handler that will be informed about all the events that the file system broadcasts. <br /></td></tr>
<tr class="separator:aad24210ecbb52fba1841cac0ce1c11ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f28a5a06275916ff71e41e2ef59377"><td class="memItemLeft" align="right" valign="top"><a id="a54f28a5a06275916ff71e41e2ef59377"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a54f28a5a06275916ff71e41e2ef59377">UnregisterEventHandler</a> (<a class="el" href="../../dc/d22/classxii_event.htm">xiiEvent</a>&lt; const <a class="el" href="../../db/da4/structxii_file_system_1_1_file_event.htm">FileEvent</a> &amp; &gt;::Handler handler)</td></tr>
<tr class="memdesc:a54f28a5a06275916ff71e41e2ef59377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters a previously registered Event Handler. <br /></td></tr>
<tr class="separator:a54f28a5a06275916ff71e41e2ef59377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb456e49e58d74f91e0501696bd515c2"><td class="memItemLeft" align="right" valign="top"><a id="adb456e49e58d74f91e0501696bd515c2"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>UnregisterEventHandler</b> (xiiEventSubscriptionID subscriptionId)</td></tr>
<tr class="separator:adb456e49e58d74f91e0501696bd515c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36a5f4617730022e83e4cb4a2bd6281b"><td class="memItemLeft" align="right" valign="top"><a id="a36a5f4617730022e83e4cb4a2bd6281b"></a>
static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><b>CreateDirectoryStructure</b> (const char *szPath)</td></tr>
<tr class="separator:a36a5f4617730022e83e4cb4a2bd6281b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07d50f898b595a4a57c253990dd8fb7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#ac07d50f898b595a4a57c253990dd8fb7">DeleteFile</a> (const char *szFile)</td></tr>
<tr class="memdesc:ac07d50f898b595a4a57c253990dd8fb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the given file from all data directories, if possible.  <a href="../../d7/d0a/classxii_file_system.htm#ac07d50f898b595a4a57c253990dd8fb7">More...</a><br /></td></tr>
<tr class="separator:ac07d50f898b595a4a57c253990dd8fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a818c9f4e0d89081fe5d6f00351b1d29c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a818c9f4e0d89081fe5d6f00351b1d29c">ExistsFile</a> (const char *szFile)</td></tr>
<tr class="memdesc:a818c9f4e0d89081fe5d6f00351b1d29c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the given file exists in any data directory.  <a href="../../d7/d0a/classxii_file_system.htm#a818c9f4e0d89081fe5d6f00351b1d29c">More...</a><br /></td></tr>
<tr class="separator:a818c9f4e0d89081fe5d6f00351b1d29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874ba64c9a18f37b76924b11213c8061"><td class="memItemLeft" align="right" valign="top"><a id="a874ba64c9a18f37b76924b11213c8061"></a>
static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a874ba64c9a18f37b76924b11213c8061">GetFileStats</a> (const char *szFileOrFolder, <a class="el" href="../../d6/dd0/structxii_file_stats.htm">xiiFileStats</a> &amp;out_Stats)</td></tr>
<tr class="memdesc:a874ba64c9a18f37b76924b11213c8061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to get the <a class="el" href="../../d6/dd0/structxii_file_stats.htm" title="Holds the stats for a file.">xiiFileStats</a> for the given file. Typically should give the same results as <a class="el" href="../../da/d95/classxii_o_s_file.htm#a272905f24a2b78d7637e3a5943a12a09" title="Gets the stats about the given file or folder. Returns false, if the stats could not be determined.">xiiOSFile::GetFileStats</a>, but some data dir implementations may not support retrieving all data (e.g. GetFileStats on folders might not always work). <br /></td></tr>
<tr class="separator:a874ba64c9a18f37b76924b11213c8061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc36415d6cd65d5733a5f77cfacbd396"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#acc36415d6cd65d5733a5f77cfacbd396">ResolvePath</a> (const char *szPath, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> *out_sAbsolutePath, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> *out_sDataDirRelativePath, <a class="el" href="../../de/d33/classxii_data_directory_type.htm">xiiDataDirectoryType</a> **out_ppDataDir=nullptr)</td></tr>
<tr class="memdesc:acc36415d6cd65d5733a5f77cfacbd396"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to resolve the given path and returns the absolute and relative path to the final file.  <a href="../../d7/d0a/classxii_file_system.htm#acc36415d6cd65d5733a5f77cfacbd396">More...</a><br /></td></tr>
<tr class="separator:acc36415d6cd65d5733a5f77cfacbd396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50dbf64c396579886a291b29085dab91"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a50dbf64c396579886a291b29085dab91">FindFolderWithSubPath</a> (<a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;result, const char *szStartDirectory, const char *szSubPath, const char *szRedirectionFileName=nullptr)</td></tr>
<tr class="memdesc:a50dbf64c396579886a291b29085dab91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts at szStartDirectory and goes up until it finds a folder that contains the given sub folder structure.  <a href="../../d7/d0a/classxii_file_system.htm#a50dbf64c396579886a291b29085dab91">More...</a><br /></td></tr>
<tr class="separator:a50dbf64c396579886a291b29085dab91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06078514f77e0be1c2c50e4548197355"><td class="memItemLeft" align="right" valign="top"><a id="a06078514f77e0be1c2c50e4548197355"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a06078514f77e0be1c2c50e4548197355">ResolveAssetRedirection</a> (const char *szPathOrAssetGuid, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;out_sRedirection)</td></tr>
<tr class="memdesc:a06078514f77e0be1c2c50e4548197355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true, if any data directory knows how to redirect the given path. Otherwise the original string is returned in out_sRedirection. <br /></td></tr>
<tr class="separator:a06078514f77e0be1c2c50e4548197355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Special Directories</div></td></tr>
<tr class="memitem:a2c184de3dd4c8d0a3a2a2a6f7911982a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a2c184de3dd4c8d0a3a2a2a6f7911982a">DetectSdkRootDirectory</a> (const char *szExpectedSubFolder=&quot;Data/Base&quot;)</td></tr>
<tr class="memdesc:a2c184de3dd4c8d0a3a2a2a6f7911982a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a directory to use as the "Sdk" special directory.  <a href="../../d7/d0a/classxii_file_system.htm#a2c184de3dd4c8d0a3a2a2a6f7911982a">More...</a><br /></td></tr>
<tr class="separator:a2c184de3dd4c8d0a3a2a2a6f7911982a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a23a31d6733b802950652a3af2ccf6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a38a23a31d6733b802950652a3af2ccf6">SetSdkRootDirectory</a> (const char *szSdkDir)</td></tr>
<tr class="memdesc:a38a23a31d6733b802950652a3af2ccf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">the special directory "&gt;Sdk" is the root folder of the SDK data, it is often used as the main reference from where other data directories are found. For higher level code (e.g. <a class="el" href="../../dd/d2b/classxii_application.htm" title="Base class to be used by applications based on xiiEngine.">xiiApplication</a>) it is often vital that this is set early at startup.  <a href="../../d7/d0a/classxii_file_system.htm#a38a23a31d6733b802950652a3af2ccf6">More...</a><br /></td></tr>
<tr class="separator:a38a23a31d6733b802950652a3af2ccf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de6b2edbd6ffdef8d7b75521534b75a"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a8de6b2edbd6ffdef8d7b75521534b75a">GetSdkRootDirectory</a> ()</td></tr>
<tr class="memdesc:a8de6b2edbd6ffdef8d7b75521534b75a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the previously set Sdk root directory.  <a href="../../d7/d0a/classxii_file_system.htm#a8de6b2edbd6ffdef8d7b75521534b75a">More...</a><br /></td></tr>
<tr class="separator:a8de6b2edbd6ffdef8d7b75521534b75a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04883481235c56ec919bc90995efa73d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a04883481235c56ec919bc90995efa73d">SetSpecialDirectory</a> (const char *szName, const char *szReplacement)</td></tr>
<tr class="memdesc:a04883481235c56ec919bc90995efa73d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special directories are used when mounting data directories as basic references.  <a href="../../d7/d0a/classxii_file_system.htm#a04883481235c56ec919bc90995efa73d">More...</a><br /></td></tr>
<tr class="separator:a04883481235c56ec919bc90995efa73d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5741bf0ecfc228b6dc403e56cde8ee35"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a5741bf0ecfc228b6dc403e56cde8ee35">ResolveSpecialDirectory</a> (const char *szDirectory, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;out_Path)</td></tr>
<tr class="memdesc:a5741bf0ecfc228b6dc403e56cde8ee35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the absolute path to <em>szDirectory</em>.  <a href="../../d7/d0a/classxii_file_system.htm#a5741bf0ecfc228b6dc403e56cde8ee35">More...</a><br /></td></tr>
<tr class="separator:a5741bf0ecfc228b6dc403e56cde8ee35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Misc</div></td></tr>
<tr class="memitem:a107ed45a9258f204ad59256509e8294b"><td class="memItemLeft" align="right" valign="top"><a id="a107ed45a9258f204ad59256509e8294b"></a>
static <a class="el" href="../../dd/d52/classxii_mutex.htm">xiiMutex</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a107ed45a9258f204ad59256509e8294b">GetMutex</a> ()</td></tr>
<tr class="memdesc:a107ed45a9258f204ad59256509e8294b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the (recursive) mutex that is used internally by the file system which can be used to guard bundled operations on the file system. <br /></td></tr>
<tr class="separator:a107ed45a9258f204ad59256509e8294b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a19a59eb1c076709ce89dcd3443b8425f"><td class="memItemLeft" align="right" valign="top"><a id="a19a59eb1c076709ce89dcd3443b8425f"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>xiiDataDirectoryReaderWriterBase</b></td></tr>
<tr class="separator:a19a59eb1c076709ce89dcd3443b8425f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a462db18bc5b8c9a54b194b13b5df5c95"><td class="memItemLeft" align="right" valign="top"><a id="a462db18bc5b8c9a54b194b13b5df5c95"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>xiiFileReaderBase</b></td></tr>
<tr class="separator:a462db18bc5b8c9a54b194b13b5df5c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80666da91a2c27b6c8641c8383c92ff4"><td class="memItemLeft" align="right" valign="top"><a id="a80666da91a2c27b6c8641c8383c92ff4"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>xiiFileWriterBase</b></td></tr>
<tr class="separator:a80666da91a2c27b6c8641c8383c92ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Data Directory Modifications</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpb845b16b16444791cff65143ee007de4"></a> All functions that add / remove data directories are not thread safe and require that this is done on a single thread with no other thread accessing anything in <a class="el" href="../../d7/d0a/classxii_file_system.htm" title="The xiiFileSystem provides high-level functionality to manage files in a virtual file system.">xiiFileSystem</a> simultaneously. </p>
</td></tr>
<tr class="memitem:ad0e553cf76ee93cc87a840c571e28f88"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#ad0e553cf76ee93cc87a840c571e28f88">xiiDataDirFactory</a> = <a class="el" href="../../de/d33/classxii_data_directory_type.htm">xiiDataDirectoryType</a> *(*)(const char *, const char *, const char *, <a class="el" href="../../d7/d0a/classxii_file_system.htm#a54bad68a9749727d4e8be83bb5a5999a">xiiFileSystem::DataDirUsage</a>)</td></tr>
<tr class="memdesc:ad0e553cf76ee93cc87a840c571e28f88"><td class="mdescLeft">&#160;</td><td class="mdescRight">This factory creates a data directory type, if it can handle the given data directory. Otherwise it returns nullptr.  <a href="../../d7/d0a/classxii_file_system.htm#ad0e553cf76ee93cc87a840c571e28f88">More...</a><br /></td></tr>
<tr class="separator:ad0e553cf76ee93cc87a840c571e28f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89fe26d72957f233965f74eb677575c8"><td class="memItemLeft" align="right" valign="top"><a id="a89fe26d72957f233965f74eb677575c8"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a89fe26d72957f233965f74eb677575c8">RegisterDataDirectoryFactory</a> (<a class="el" href="../../d7/d0a/classxii_file_system.htm#ad0e553cf76ee93cc87a840c571e28f88">xiiDataDirFactory</a> Factory, float fPriority=0)</td></tr>
<tr class="memdesc:a89fe26d72957f233965f74eb677575c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows to register another data directory factory, which might be invoked when a new data directory is to be added. <br /></td></tr>
<tr class="separator:a89fe26d72957f233965f74eb677575c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032908ccb6f0b94157310b7e12fd4d0a"><td class="memItemLeft" align="right" valign="top"><a id="a032908ccb6f0b94157310b7e12fd4d0a"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a032908ccb6f0b94157310b7e12fd4d0a">ClearAllDataDirectoryFactories</a> ()</td></tr>
<tr class="memdesc:a032908ccb6f0b94157310b7e12fd4d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will remove all known data directory factories. <br /></td></tr>
<tr class="separator:a032908ccb6f0b94157310b7e12fd4d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0f2bbfd09157a864f9026151d0d85f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a8d0f2bbfd09157a864f9026151d0d85f">AddDataDirectory</a> (const char *szDataDirectory, const char *szGroup=&quot;&quot;, const char *szRootName=&quot;&quot;, <a class="el" href="../../d7/d0a/classxii_file_system.htm#a54bad68a9749727d4e8be83bb5a5999a">xiiFileSystem::DataDirUsage</a> Usage=ReadOnly)</td></tr>
<tr class="memdesc:a8d0f2bbfd09157a864f9026151d0d85f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a data directory. It will try all the registered factories to find a data directory type that can handle the given path.  <a href="../../d7/d0a/classxii_file_system.htm#a8d0f2bbfd09157a864f9026151d0d85f">More...</a><br /></td></tr>
<tr class="separator:a8d0f2bbfd09157a864f9026151d0d85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96d39812664ad94b191de385ff21878"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#ac96d39812664ad94b191de385ff21878">RemoveDataDirectory</a> (const char *szRootName)</td></tr>
<tr class="memdesc:ac96d39812664ad94b191de385ff21878"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a data directory with the given root name and removes it.  <a href="../../d7/d0a/classxii_file_system.htm#ac96d39812664ad94b191de385ff21878">More...</a><br /></td></tr>
<tr class="separator:ac96d39812664ad94b191de385ff21878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addcf97b9de4d922f5e2367ece941a08e"><td class="memItemLeft" align="right" valign="top"><a id="addcf97b9de4d922f5e2367ece941a08e"></a>
static xiiUInt32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#addcf97b9de4d922f5e2367ece941a08e">RemoveDataDirectoryGroup</a> (const char *szGroup)</td></tr>
<tr class="memdesc:addcf97b9de4d922f5e2367ece941a08e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all data directories that belong to the given group. Returns the number of data directories that were removed. <br /></td></tr>
<tr class="separator:addcf97b9de4d922f5e2367ece941a08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea49012af38566809cb987a00b7b360e"><td class="memItemLeft" align="right" valign="top"><a id="aea49012af38566809cb987a00b7b360e"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#aea49012af38566809cb987a00b7b360e">ClearAllDataDirectories</a> ()</td></tr>
<tr class="memdesc:aea49012af38566809cb987a00b7b360e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all data directories. <br /></td></tr>
<tr class="separator:aea49012af38566809cb987a00b7b360e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba7afdcbe342f916f85768d616afa61"><td class="memItemLeft" align="right" valign="top"><a id="acba7afdcbe342f916f85768d616afa61"></a>
static <a class="el" href="../../de/d33/classxii_data_directory_type.htm">xiiDataDirectoryType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#acba7afdcbe342f916f85768d616afa61">FindDataDirectoryWithRoot</a> (const char *szRootName)</td></tr>
<tr class="memdesc:acba7afdcbe342f916f85768d616afa61"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a data directory with the given root name already exists, it will be returned, nullptr otherwise. <br /></td></tr>
<tr class="separator:acba7afdcbe342f916f85768d616afa61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c6f5db9d80ae1fd783c19de9f64748"><td class="memItemLeft" align="right" valign="top"><a id="ae1c6f5db9d80ae1fd783c19de9f64748"></a>
static xiiUInt32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#ae1c6f5db9d80ae1fd783c19de9f64748">GetNumDataDirectories</a> ()</td></tr>
<tr class="memdesc:ae1c6f5db9d80ae1fd783c19de9f64748"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of currently active data directories. <br /></td></tr>
<tr class="separator:ae1c6f5db9d80ae1fd783c19de9f64748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f70a0cd8c3a554c6dffee1980b316b"><td class="memItemLeft" align="right" valign="top"><a id="a94f70a0cd8c3a554c6dffee1980b316b"></a>
static <a class="el" href="../../de/d33/classxii_data_directory_type.htm">xiiDataDirectoryType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a94f70a0cd8c3a554c6dffee1980b316b">GetDataDirectory</a> (xiiUInt32 uiDataDirIndex)</td></tr>
<tr class="memdesc:a94f70a0cd8c3a554c6dffee1980b316b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the n-th currently active data directory. <br /></td></tr>
<tr class="separator:a94f70a0cd8c3a554c6dffee1980b316b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2be35af219b9fb30cf82f24d9404d995"><td class="memItemLeft" align="right" valign="top"><a id="a2be35af219b9fb30cf82f24d9404d995"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a2be35af219b9fb30cf82f24d9404d995">ReloadAllExternalDataDirectoryConfigs</a> ()</td></tr>
<tr class="memdesc:a2be35af219b9fb30cf82f24d9404d995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="../../de/d33/classxii_data_directory_type.htm#a188b02feb34f82ee3fda2d685f640f6b" title="Some data directory types may use external configuration files (e.g. asset lookup tables) that may ge...">xiiDataDirectoryType::ReloadExternalConfigs()</a> on all active data directories. <br /></td></tr>
<tr class="separator:a2be35af219b9fb30cf82f24d9404d995"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="../../d7/d0a/classxii_file_system.htm" title="The xiiFileSystem provides high-level functionality to manage files in a virtual file system.">xiiFileSystem</a> provides high-level functionality to manage files in a virtual file system. </p>
<p>There are two sides at which the file system can be extended: Data directories are the 'sources' of data. These can be simple folders, zip files, data-bases, HTTP servers, etc. Different <a class="el" href="../../de/d33/classxii_data_directory_type.htm" title="The base class for all data directory types.">xiiDataDirectoryType</a>'s can implement these different 'decoding methods', i.e. they handle how to actually access the data and they use their own readers/writers to implement a common interface for passing data streams to and from the data directory. On the other end there are the actual file readers/writers, which implement policies how to optimize these reads/writes. The default <a class="el" href="../../d6/de4/classxii_file_reader.htm" title="The default class to use to read data from a file, implements the xiiStreamReader interface.">xiiFileReader</a> and <a class="el" href="../../d4/dea/classxii_file_writer.htm" title="The default class to use to write data to a file, implements the xiiStreamWriter interface.">xiiFileWriter</a> implement a buffering policy, i.e. they use an internal cache to only sporadically read or write to the actual data stream. A 'threaded' or 'parallel' file reader/writer could implement a different policy, where a file is read/written in a thread and thus allows to have non-blocking file accesses.</p>
<p>Which policy to use is defined by the user every time he needs to access a file, by simply using the desired reader/writer class. How to mount data directories (i.e. with which <a class="el" href="../../de/d33/classxii_data_directory_type.htm" title="The base class for all data directory types.">xiiDataDirectoryType</a>) is defined by the 'DataDirFactories', which are functions that create <a class="el" href="../../de/d33/classxii_data_directory_type.htm" title="The base class for all data directory types.">xiiDataDirectoryType</a>'s. This way one can mount the same data directory (e.g. "MyTestDir") differently, depending on which Factories have been registered previously. This allows to easily configure how to set up data directories. E.g. by default ordinary folders will be mounted to be read from the local file system. However, by registering a different Factory, the same directory could also be mounted over a network on a remote file serving machine.</p>
<p>Additionally <a class="el" href="../../d7/d0a/classxii_file_system.htm" title="The xiiFileSystem provides high-level functionality to manage files in a virtual file system.">xiiFileSystem</a> also broadcasts events about which files are (about to be) accessed. This allows to hook into the system and implement stuff like automatic asset transformations before/after certain file accesses, checking out files from revision control systems, or simply logging all file activity.</p>
<p>All operations that go through the <a class="el" href="../../d7/d0a/classxii_file_system.htm" title="The xiiFileSystem provides high-level functionality to manage files in a virtual file system.">xiiFileSystem</a> are protected by a mutex, which means that opening, closing, deleting files, as well as adding or removing data directories etc. will be synchronized and cannot happen in parallel. Reading/writing file streams can happen in parallel, only the administrative tasks need to be protected. File events are broadcast as they occur, that means they will be executed on whichever thread triggered them. Since they are executed from within the filesystem mutex, they cannot occur in parallel. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ad0e553cf76ee93cc87a840c571e28f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e553cf76ee93cc87a840c571e28f88">&#9670;&nbsp;</a></span>xiiDataDirFactory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d7/d0a/classxii_file_system.htm#ad0e553cf76ee93cc87a840c571e28f88">xiiFileSystem::xiiDataDirFactory</a> =  <a class="el" href="../../de/d33/classxii_data_directory_type.htm">xiiDataDirectoryType</a>* (*)(const char*, const char*, const char*, <a class="el" href="../../d7/d0a/classxii_file_system.htm#a54bad68a9749727d4e8be83bb5a5999a">xiiFileSystem::DataDirUsage</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This factory creates a data directory type, if it can handle the given data directory. Otherwise it returns nullptr. </p>
<p>Every time a data directory is supposed to be added, the file system will query its data dir factories, which one can successfully create an <a class="el" href="../../de/d33/classxii_data_directory_type.htm" title="The base class for all data directory types.">xiiDataDirectoryType</a>. In this process the last factory added has the highest priority. Once a factory is found that was able to create a <a class="el" href="../../de/d33/classxii_data_directory_type.htm" title="The base class for all data directory types.">xiiDataDirectoryType</a>, that one is used. Different factories can be used to mount different types of data directories. But the same directory can also be mounted in different ways. For example a simple folder could be mounted on the local system, or via a HTTP server over a network (lets call it a 'FileServer'). Thus depending on which type of factories are registered, the file system can provide data from very different sources. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8d0f2bbfd09157a864f9026151d0d85f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0f2bbfd09157a864f9026151d0d85f">&#9670;&nbsp;</a></span>AddDataDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiFileSystem::AddDataDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szDataDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szGroup</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szRootName</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0a/classxii_file_system.htm#a54bad68a9749727d4e8be83bb5a5999a">xiiFileSystem::DataDirUsage</a>&#160;</td>
          <td class="paramname"><em>Usage</em> = <code>ReadOnly</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a data directory. It will try all the registered factories to find a data directory type that can handle the given path. </p>
<p>If Usage is ReadOnly, writing to the data directory is not allowed. This is independent of whether the data directory type COULD write anything. szGroup defines to what 'group' of data directories this data dir belongs. This is only used in calls to RemoveDataDirectoryGroup, to remove all data directories of the same group. You could use groups such as 'Base', 'Project', 'Settings', 'Level', 'Temp' to distinguish between different sets of data directories. You can also specify the exact same string as szDataDirectory for szGroup, and thus uniquely identify the data dir, to be able to remove just that one. szRootName is optional for read-only data dirs, but mandatory for writable ones. It has to be unique to clearly identify a file within that data directory. It must be used when writing to a file in this directory. For instance, if a data dir root name is "mydata", then the path ":mydata/SomeFile.txt" can be used to write to the top level folder of this data directory. The same can be used for reading exactly that file and ignoring the other data dirs. </p>

</div>
</div>
<a id="ac07d50f898b595a4a57c253990dd8fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07d50f898b595a4a57c253990dd8fb7">&#9670;&nbsp;</a></span>DeleteFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xiiFileSystem::DeleteFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes the given file from all data directories, if possible. </p>
<p>The path must be absolute or rooted, to uniquely identify which file to delete. For example ":appdata/SomeData.txt", assuming a writable data directory has been mounted with the "appdata" root name. </p>

</div>
</div>
<a id="a2c184de3dd4c8d0a3a2a2a6f7911982a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c184de3dd4c8d0a3a2a2a6f7911982a">&#9670;&nbsp;</a></span>DetectSdkRootDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiFileSystem::DetectSdkRootDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szExpectedSubFolder</em> = <code>&quot;Data/Base&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Searches for a directory to use as the "Sdk" special directory. </p>
<p>It does so by starting at the directory where the application binary is located and then goes up until it finds a folder that contains the given sub-folder. The sub-folder is usually where the engine loads the most basic data from, so it should exist.</p>
<p>Additionally the 'redirection file' feature of <a class="el" href="../../d7/d0a/classxii_file_system.htm#a50dbf64c396579886a291b29085dab91" title="Starts at szStartDirectory and goes up until it finds a folder that contains the given sub folder str...">xiiFileSystem::FindFolderWithSubPath()</a> is used to allow finding a relocated SDK folder. To do that, place a file called 'xiiSdkRoot.txt' in your top level folder. It should contain the relative path pointing to the SDK folder.</p>
<p>Upon success <a class="el" href="../../d7/d0a/classxii_file_system.htm#a38a23a31d6733b802950652a3af2ccf6" title="the special directory &quot;&gt;Sdk&quot; is the root folder of the SDK data, it is often used as the main referen...">SetSdkRootDirectory()</a> is called with the resulting path.</p>
<dl class="section note"><dt>Note</dt><dd>If the Sdk root directory has been set before, this function does nothing! It will not override a previously set value. If that is desired, call SetSdkRootDirectory("") first.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d7/d0a/classxii_file_system.htm#a50dbf64c396579886a291b29085dab91" title="Starts at szStartDirectory and goes up until it finds a folder that contains the given sub folder str...">xiiFileSystem::FindFolderWithSubPath()</a> </dd></dl>

</div>
</div>
<a id="a818c9f4e0d89081fe5d6f00351b1d29c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a818c9f4e0d89081fe5d6f00351b1d29c">&#9670;&nbsp;</a></span>ExistsFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xiiFileSystem::ExistsFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether the given file exists in any data directory. </p>
<p>The search can be restricted to directories of certain categories (see AddDataDirectory). </p>

</div>
</div>
<a id="a50dbf64c396579886a291b29085dab91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50dbf64c396579886a291b29085dab91">&#9670;&nbsp;</a></span>FindFolderWithSubPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiFileSystem::FindFolderWithSubPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szStartDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szSubPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szRedirectionFileName</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts at szStartDirectory and goes up until it finds a folder that contains the given sub folder structure. </p>
<p>Returns XII_FAILURE if nothing is found. Otherwise <em>result</em> is the absolute path to the existing folder that has a given sub-folder.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>If successful, this contains the folder path in which szSubPath exists. </td></tr>
    <tr><td class="paramname">szStartDirectory</td><td>The directory in which to start the search and iterate upwards. </td></tr>
    <tr><td class="paramname">szSubPath</td><td>the relative path to look for in each visited directory. The function succeeds if such a file or folder is found. </td></tr>
    <tr><td class="paramname">szRedirectionFileName</td><td>An optional file name for a redirection file. If in any visited folder a file with this name is found, it will be opened, read entirely, and appended to the current search path, and it is checked whether <em>szSubPath</em> can be found there. This step is not recursive and can't result in an endless loop. It allows to relocate the SDK folder and still have it found, by placing such a redirection file. A common use case, is when xiiEngine is used as a Git submodule and therefore the overall file structure is slightly different. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8de6b2edbd6ffdef8d7b75521534b75a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de6b2edbd6ffdef8d7b75521534b75a">&#9670;&nbsp;</a></span>GetSdkRootDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * xiiFileSystem::GetSdkRootDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the previously set Sdk root directory. </p>
<dl class="section note"><dt>Note</dt><dd>Asserts that the path is not empty!</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d7/d0a/classxii_file_system.htm#a38a23a31d6733b802950652a3af2ccf6" title="the special directory &quot;&gt;Sdk&quot; is the root folder of the SDK data, it is often used as the main referen...">SetSdkRootDirectory</a> </dd>
<dd>
<a class="el" href="../../d7/d0a/classxii_file_system.htm#a2c184de3dd4c8d0a3a2a2a6f7911982a" title="Searches for a directory to use as the &quot;Sdk&quot; special directory.">DetectSdkRootDirectory</a> </dd></dl>

</div>
</div>
<a id="ac96d39812664ad94b191de385ff21878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96d39812664ad94b191de385ff21878">&#9670;&nbsp;</a></span>RemoveDataDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool xiiFileSystem::RemoveDataDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szRootName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Searches for a data directory with the given root name and removes it. </p>
<p>Returns true, if one was found and removed, false if no such data dir existed. </p>

</div>
</div>
<a id="acc36415d6cd65d5733a5f77cfacbd396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc36415d6cd65d5733a5f77cfacbd396">&#9670;&nbsp;</a></span>ResolvePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiFileSystem::ResolvePath </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> *&#160;</td>
          <td class="paramname"><em>out_sAbsolutePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> *&#160;</td>
          <td class="paramname"><em>out_sDataDirRelativePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d33/classxii_data_directory_type.htm">xiiDataDirectoryType</a> **&#160;</td>
          <td class="paramname"><em>out_ppDataDir</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tries to resolve the given path and returns the absolute and relative path to the final file. </p>
<p>If the given path is a rooted path, for instance something like ":appdata/UserData.txt", (which is necessary for writing to files), the path can be converted easily and the file does not need to exist. Only the data directory with the given root name must be mounted.</p>
<p>If the path is relative, it is attempted to open the specified file, which means it is searched in all available data directories. The path to the file that is found will be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out_sAbsolutePath</td><td>will contain the absolute path to the file. Can be nullptr. </td></tr>
    <tr><td class="paramname">out_sDataDirRelativePath</td><td>will contain the relative path to the file (from the data directory in which it might end up in). Can be nullptr. </td></tr>
    <tr><td class="paramname">szPath</td><td>can be a relative, an absolute or a rooted path. This can also be used to find the relative location to the data directory that would handle it. </td></tr>
    <tr><td class="paramname">out_ppDataDir</td><td>If not null, it will be set to the data directory that would handle this path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function will return XII_FAILURE if it was not able to determine any location where the file could be read from or written to. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.htm#_todo000040">Todo:</a></b></dt><dd>We might also need the none-redirected path as an output </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.htm#_todo000041">Todo:</a></b></dt><dd>We might also need the none-redirected path as an output </dd></dl>

</div>
</div>
<a id="a5741bf0ecfc228b6dc403e56cde8ee35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5741bf0ecfc228b6dc403e56cde8ee35">&#9670;&nbsp;</a></span>ResolveSpecialDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiFileSystem::ResolveSpecialDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;&#160;</td>
          <td class="paramname"><em>out_Path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the absolute path to <em>szDirectory</em>. </p>
<p>If the path starts with a known special directory marker ("&gt;marker/") it is replaced accordingly. See <a class="el" href="../../d7/d0a/classxii_file_system.htm#a04883481235c56ec919bc90995efa73d" title="Special directories are used when mounting data directories as basic references.">SetSpecialDirectory()</a> for setting custom special directories.</p>
<p>Built-in special directories (always available) are:</p>
<p>"&gt;sdk/" - Resolves to what <a class="el" href="../../d7/d0a/classxii_file_system.htm#a8de6b2edbd6ffdef8d7b75521534b75a" title="Returns the previously set Sdk root directory.">GetSdkRootDirectory()</a> returns. "&gt;user/" - Resolves to what <a class="el" href="../../da/d95/classxii_o_s_file.htm#a1e5a265a1b9e6dc5edf53883fcf88409" title="Returns the folder into which user data may be safely written. Append a sub-folder for your applicati...">xiiOSFile::GetUserDataFolder()</a> returns. "&gt;temp/" - Resolves to what <a class="el" href="../../da/d95/classxii_o_s_file.htm#a2bc4f9cb2c0b1356ba2f7c607c303395" title="Returns the folder into which temp data may be written.">xiiOSFile::GetTempDataFolder()</a> returns. "&gt;appdir/" - Resolves to what <a class="el" href="../../da/d95/classxii_o_s_file.htm#aefc27404b7a99e97e725f3731e22d2c6" title="Returns the path in which the applications binary file is located.">xiiOSFile::GetApplicationDirectory()</a> returns.</p>
<p>Returns XII_FAILURE if <em>szDirectory</em> starts with an unknown special directory. </p>

</div>
</div>
<a id="a38a23a31d6733b802950652a3af2ccf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a23a31d6733b802950652a3af2ccf6">&#9670;&nbsp;</a></span>SetSdkRootDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xiiFileSystem::SetSdkRootDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szSdkDir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the special directory "&gt;Sdk" is the root folder of the SDK data, it is often used as the main reference from where other data directories are found. For higher level code (e.g. <a class="el" href="../../dd/d2b/classxii_application.htm" title="Base class to be used by applications based on xiiEngine.">xiiApplication</a>) it is often vital that this is set early at startup. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d7/d0a/classxii_file_system.htm#a2c184de3dd4c8d0a3a2a2a6f7911982a" title="Searches for a directory to use as the &quot;Sdk&quot; special directory.">DetectSdkRootDirectory()</a> </dd></dl>

</div>
</div>
<a id="a04883481235c56ec919bc90995efa73d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04883481235c56ec919bc90995efa73d">&#9670;&nbsp;</a></span>SetSpecialDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xiiFileSystem::SetSpecialDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szReplacement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Special directories are used when mounting data directories as basic references. </p>
<p>They are indicated with a "&gt;", ie. "&gt;sdk/Test", but using them is only allowed in few places, e.g. in <a class="el" href="../../d7/d0a/classxii_file_system.htm#a8d0f2bbfd09157a864f9026151d0d85f" title="Adds a data directory. It will try all the registered factories to find a data directory type that ca...">AddDataDirectory()</a>. Special directories are needed to be able to set up other paths relative to them and to be able to use different ones on different PCs. For instance when using file-serve functionality, the special directories may be different on the host and client machines, but the paths used to mount data directories can stay the same because of this. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/IO/FileSystem/<a class="el" href="../../d2/d58/_file_system_8h_source.htm">FileSystem.h</a></li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/IO/FileSystem/Implementation/FileSystem.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/d0a/classxii_file_system.htm">xiiFileSystem</a></li>
    <li class="footer">Generated on Sun Mar 12 2023 21:19:55 for XIIEngine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
