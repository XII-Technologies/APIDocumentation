<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XIIEngine: xiiPreprocessor Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../XII-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XIIEngine
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.htm','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/d38/classxii_preprocessor.htm','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../de/d8a/classxii_preprocessor-members.htm">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xiiPreprocessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../db/d38/classxii_preprocessor.htm" title="xiiPreprocessor implements a standard C preprocessor. It can be used to pre-process files to get the ...">xiiPreprocessor</a> implements a standard C preprocessor. It can be used to pre-process files to get the output after macro expansion and #ifdef handling.  
 <a href="../../db/d38/classxii_preprocessor.htm#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d1/d57/_preprocessor_8h_source.htm">Preprocessor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddd/structxii_preprocessor_1_1_processing_event.htm">ProcessingEvent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The event data that the processor broadcasts.  <a href="../../da/ddd/structxii_preprocessor_1_1_processing_event.htm#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5466b323aa93219d02120f1dc285c440"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440">IncludeType</a> { <a class="el" href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440add2663beedd14caf64de08c3bbff67d2">MainFile</a>, 
<a class="el" href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440acd5ef52c0d81c523794630162ba4c32a">RelativeInclude</a>, 
<a class="el" href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440a4567afb135f83dee498bc0efb40ade9a">GlobalInclude</a>
 }</td></tr>
<tr class="memdesc:a5466b323aa93219d02120f1dc285c440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes the type of #include that was encountered during preprocessing.  <a href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440">More...</a><br /></td></tr>
<tr class="separator:a5466b323aa93219d02120f1dc285c440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0ba26d5a348120e5f71fcd2ccc91f5"><td class="memItemLeft" align="right" valign="top"><a id="a2c0ba26d5a348120e5f71fcd2ccc91f5"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a2c0ba26d5a348120e5f71fcd2ccc91f5">FileOpenCB</a> = <a class="el" href="../../dc/d84/structxii_delegate.htm">xiiDelegate</a>&lt; <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>(<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sAbsoluteFile, <a class="el" href="../../dc/da4/classxii_dynamic_array.htm">xiiDynamicArray</a>&lt; xiiUInt8 &gt; &amp;FileContent, <a class="el" href="../../d5/da2/classxii_timestamp.htm">xiiTimestamp</a> &amp;out_FileModification)&gt;</td></tr>
<tr class="memdesc:a2c0ba26d5a348120e5f71fcd2ccc91f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This type of callback is used to read an #include file. <em>szAbsoluteFile</em> is the path that the FileLocatorCB reported, the result needs to be stored in <em>FileContent</em>. <br /></td></tr>
<tr class="separator:a2c0ba26d5a348120e5f71fcd2ccc91f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21c37942e6b309ab2d921d3b288d4a0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#ad21c37942e6b309ab2d921d3b288d4a0">FileLocatorCB</a> = <a class="el" href="../../dc/d84/structxii_delegate.htm">xiiDelegate</a>&lt; <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>(<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sCurAbsoluteFile, <a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sIncludeFile, <a class="el" href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440">IncludeType</a> IncType, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;out_sAbsoluteFilePath)&gt;</td></tr>
<tr class="memdesc:ad21c37942e6b309ab2d921d3b288d4a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This type of callback is used to retrieve the absolute path of the <em>szIncludeFile</em> when #included inside <em>szCurAbsoluteFile</em>.  <a href="../../db/d38/classxii_preprocessor.htm#ad21c37942e6b309ab2d921d3b288d4a0">More...</a><br /></td></tr>
<tr class="separator:ad21c37942e6b309ab2d921d3b288d4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2a15381b13fc74d13e23f091f8548b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#acb2a15381b13fc74d13e23f091f8548b">PassThroughUnknownCmdCB</a> = <a class="el" href="../../dc/d84/structxii_delegate.htm">xiiDelegate</a>&lt; bool(<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sUnknownCommand)&gt;</td></tr>
<tr class="memdesc:acb2a15381b13fc74d13e23f091f8548b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Every time an unknown command (e.g. '#version') is encountered, this callback is used to determine whether the command shall be passed through.  <a href="../../db/d38/classxii_preprocessor.htm#acb2a15381b13fc74d13e23f091f8548b">More...</a><br /></td></tr>
<tr class="separator:acb2a15381b13fc74d13e23f091f8548b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127602602ad6436ad4ce53a6b0f1a2fa"><td class="memItemLeft" align="right" valign="top"><a id="a127602602ad6436ad4ce53a6b0f1a2fa"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>MacroParameters</b> = <a class="el" href="../../d8/df8/classxii_deque.htm">xiiDeque</a>&lt; <a class="el" href="../../dc/da9/classxii_hybrid_array.htm">xiiTokenParseUtils::TokenStream</a> &gt;</td></tr>
<tr class="separator:a127602602ad6436ad4ce53a6b0f1a2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8969fb1f9a7dda6037b00bb62f3f51ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a8969fb1f9a7dda6037b00bb62f3f51ff">SetLogInterface</a> (<a class="el" href="../../d6/d6b/classxii_log_interface.htm">xiiLogInterface</a> *pLog)</td></tr>
<tr class="memdesc:a8969fb1f9a7dda6037b00bb62f3f51ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">All error output is sent to the given <a class="el" href="../../d6/d6b/classxii_log_interface.htm" title="Base class for all logging classes.">xiiLogInterface</a>.  <a href="../../db/d38/classxii_preprocessor.htm#a8969fb1f9a7dda6037b00bb62f3f51ff">More...</a><br /></td></tr>
<tr class="separator:a8969fb1f9a7dda6037b00bb62f3f51ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f4072a75f7a68b7ce95ee56cb3d93e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a72f4072a75f7a68b7ce95ee56cb3d93e">SetCustomFileCache</a> (<a class="el" href="../../de/d45/classxii_tokenized_file_cache.htm">xiiTokenizedFileCache</a> *pFileCache=nullptr)</td></tr>
<tr class="memdesc:a72f4072a75f7a68b7ce95ee56cb3d93e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows to specify a custom cache object that should be used for storing the tokenized result of files.  <a href="../../db/d38/classxii_preprocessor.htm#a72f4072a75f7a68b7ce95ee56cb3d93e">More...</a><br /></td></tr>
<tr class="separator:a72f4072a75f7a68b7ce95ee56cb3d93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214b805019d7626a0d62acf47aa0422d"><td class="memItemLeft" align="right" valign="top"><a id="a214b805019d7626a0d62acf47aa0422d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a214b805019d7626a0d62acf47aa0422d">SetPassThroughPragma</a> (bool bPassThrough)</td></tr>
<tr class="memdesc:a214b805019d7626a0d62acf47aa0422d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to true, all #pragma commands are passed through to the output, otherwise they are removed. <br /></td></tr>
<tr class="separator:a214b805019d7626a0d62acf47aa0422d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f11007db6a60dec22c823765b6857bb"><td class="memItemLeft" align="right" valign="top"><a id="a9f11007db6a60dec22c823765b6857bb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a9f11007db6a60dec22c823765b6857bb">SetPassThroughLine</a> (bool bPassThrough)</td></tr>
<tr class="memdesc:a9f11007db6a60dec22c823765b6857bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to true, all #line commands are passed through to the output, otherwise they are removed. <br /></td></tr>
<tr class="separator:a9f11007db6a60dec22c823765b6857bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912da7a9dbc38f2ca9bacaba718398bd"><td class="memItemLeft" align="right" valign="top"><a id="a912da7a9dbc38f2ca9bacaba718398bd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a912da7a9dbc38f2ca9bacaba718398bd">SetPassThroughUnknownCmdsCB</a> (<a class="el" href="../../db/d38/classxii_preprocessor.htm#acb2a15381b13fc74d13e23f091f8548b">PassThroughUnknownCmdCB</a> callback)</td></tr>
<tr class="memdesc:a912da7a9dbc38f2ca9bacaba718398bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the callback that is used to determine whether an unknown command is passed through or triggers an error. <br /></td></tr>
<tr class="separator:a912da7a9dbc38f2ca9bacaba718398bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3608ef3fb7490e6b61b4a47b652a32a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a3608ef3fb7490e6b61b4a47b652a32a0">SetFileOpenFunction</a> (<a class="el" href="../../db/d38/classxii_preprocessor.htm#a2c0ba26d5a348120e5f71fcd2ccc91f5">FileOpenCB</a> openAbsFileCB)</td></tr>
<tr class="memdesc:a3608ef3fb7490e6b61b4a47b652a32a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the callback that is needed to read input data.  <a href="../../db/d38/classxii_preprocessor.htm#a3608ef3fb7490e6b61b4a47b652a32a0">More...</a><br /></td></tr>
<tr class="separator:a3608ef3fb7490e6b61b4a47b652a32a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7abc99414b7d3aecf685bbf273c45a50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a7abc99414b7d3aecf685bbf273c45a50">SetFileLocatorFunction</a> (<a class="el" href="../../db/d38/classxii_preprocessor.htm#ad21c37942e6b309ab2d921d3b288d4a0">FileLocatorCB</a> locateAbsFileCB)</td></tr>
<tr class="memdesc:a7abc99414b7d3aecf685bbf273c45a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the callback that is needed to locate an input file.  <a href="../../db/d38/classxii_preprocessor.htm#a7abc99414b7d3aecf685bbf273c45a50">More...</a><br /></td></tr>
<tr class="separator:a7abc99414b7d3aecf685bbf273c45a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2b0fe6b3cd5ed07ba982edb5a8b0e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a8d2b0fe6b3cd5ed07ba982edb5a8b0e9">AddCustomDefine</a> (<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sDefinition)</td></tr>
<tr class="memdesc:a8d2b0fe6b3cd5ed07ba982edb5a8b0e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a #define to the preprocessor, even before any file is processed.  <a href="../../db/d38/classxii_preprocessor.htm#a8d2b0fe6b3cd5ed07ba982edb5a8b0e9">More...</a><br /></td></tr>
<tr class="separator:a8d2b0fe6b3cd5ed07ba982edb5a8b0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb750c2d84a820e60a278cd6ccea0cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a0fb750c2d84a820e60a278cd6ccea0cf">Process</a> (<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sMainFile, <a class="el" href="../../dc/da9/classxii_hybrid_array.htm">xiiTokenParseUtils::TokenStream</a> &amp;ref_tokenOutput)</td></tr>
<tr class="memdesc:a0fb750c2d84a820e60a278cd6ccea0cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the given file and returns the result as a stream of tokens.  <a href="../../db/d38/classxii_preprocessor.htm#a0fb750c2d84a820e60a278cd6ccea0cf">More...</a><br /></td></tr>
<tr class="separator:a0fb750c2d84a820e60a278cd6ccea0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b71f8448ef611d1675debbca8904a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a93b71f8448ef611d1675debbca8904a4">Process</a> (<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sMainFile, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;ref_sOutput, bool bKeepComments=true, bool bRemoveRedundantWhitespace=false, bool bInsertLine=false)</td></tr>
<tr class="memdesc:a93b71f8448ef611d1675debbca8904a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the given file and returns the result as a string.  <a href="../../db/d38/classxii_preprocessor.htm#a93b71f8448ef611d1675debbca8904a4">More...</a><br /></td></tr>
<tr class="separator:a93b71f8448ef611d1675debbca8904a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1d9fc3c9e1e34c25c6b3cc096ff2a597"><td class="memItemLeft" align="right" valign="top"><a id="a1d9fc3c9e1e34c25c6b3cc096ff2a597"></a>
static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><b>DefaultFileLocator</b> (<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sCurAbsoluteFile, <a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sIncludeFile, <a class="el" href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440">xiiPreprocessor::IncludeType</a> incType, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;out_sAbsoluteFilePath)</td></tr>
<tr class="separator:a1d9fc3c9e1e34c25c6b3cc096ff2a597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40582ef0d213f2bc4ea1e3328de7c455"><td class="memItemLeft" align="right" valign="top"><a id="a40582ef0d213f2bc4ea1e3328de7c455"></a>
static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><b>DefaultFileOpen</b> (<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sAbsoluteFile, <a class="el" href="../../dc/da4/classxii_dynamic_array.htm">xiiDynamicArray</a>&lt; xiiUInt8 &gt; &amp;ref_fileContent, <a class="el" href="../../d5/da2/classxii_timestamp.htm">xiiTimestamp</a> &amp;out_fileModification)</td></tr>
<tr class="separator:a40582ef0d213f2bc4ea1e3328de7c455"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af7fbdb7502c0e6694352f23a1eb29735"><td class="memItemLeft" align="right" valign="top"><a id="af7fbdb7502c0e6694352f23a1eb29735"></a>
<a class="el" href="../../dc/d22/classxii_event.htm">xiiEvent</a>&lt; const <a class="el" href="../../da/ddd/structxii_preprocessor_1_1_processing_event.htm">ProcessingEvent</a> &amp; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d38/classxii_preprocessor.htm#af7fbdb7502c0e6694352f23a1eb29735">m_ProcessingEvents</a></td></tr>
<tr class="memdesc:af7fbdb7502c0e6694352f23a1eb29735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcasts events during the processing. This can be used to create detailed callstacks when an error is encountered. It also broadcasts errors and warnings with more detailed information than the log interface allows. <br /></td></tr>
<tr class="separator:af7fbdb7502c0e6694352f23a1eb29735"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../db/d38/classxii_preprocessor.htm" title="xiiPreprocessor implements a standard C preprocessor. It can be used to pre-process files to get the ...">xiiPreprocessor</a> implements a standard C preprocessor. It can be used to pre-process files to get the output after macro expansion and #ifdef handling. </p>
<p>For a detailed documentation about the C preprocessor, see <a href="https://gcc.gnu.org/onlinedocs/cpp/">https://gcc.gnu.org/onlinedocs/cpp/</a></p>
<p>This class implements all standard features:</p><ul>
<li>object and function macros</li>
<li>Full evaluation of #if, #ifdef etc. including mathematical operations such as #if A &gt; 42</li>
<li>Parameter stringification</li>
<li>Parameter concatenation</li>
<li><b>LINE</b> and <b>FILE</b> macros</li>
<li>Fully correct #line evaluation for error output</li>
<li>Correct handling of <b>VA_ARGS</b></li>
<li>#include handling</li>
<li>#pragma once</li>
<li>#warning and #error for custom failure messages </li>
</ul>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ad21c37942e6b309ab2d921d3b288d4a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21c37942e6b309ab2d921d3b288d4a0">&#9670;&nbsp;</a></span>FileLocatorCB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/d38/classxii_preprocessor.htm#ad21c37942e6b309ab2d921d3b288d4a0">xiiPreprocessor::FileLocatorCB</a> =  <a class="el" href="../../dc/d84/structxii_delegate.htm">xiiDelegate</a>&lt;<a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>(<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sCurAbsoluteFile, <a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sIncludeFile, <a class="el" href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440">IncludeType</a> IncType, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a>&amp; out_sAbsoluteFilePath)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This type of callback is used to retrieve the absolute path of the <em>szIncludeFile</em> when #included inside <em>szCurAbsoluteFile</em>. </p>
<p>Note that you should ensure that <em>out_sAbsoluteFilePath</em> is always identical (including casing and path slashes) when it is supposed to point to the same file, as this exact name is used for file lookup (and therefore also file caching). If it is not identical, file caching will not work, and on different OSes the file may be found or not. </p>

</div>
</div>
<a id="acb2a15381b13fc74d13e23f091f8548b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2a15381b13fc74d13e23f091f8548b">&#9670;&nbsp;</a></span>PassThroughUnknownCmdCB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/d38/classxii_preprocessor.htm#acb2a15381b13fc74d13e23f091f8548b">xiiPreprocessor::PassThroughUnknownCmdCB</a> =  <a class="el" href="../../dc/d84/structxii_delegate.htm">xiiDelegate</a>&lt;bool(<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sUnknownCommand)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Every time an unknown command (e.g. '#version') is encountered, this callback is used to determine whether the command shall be passed through. </p>
<p>If the callback returns false, an error is generated and parsing fails. The callback thus acts as a whitelist for all commands that shall be passed through. </p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a5466b323aa93219d02120f1dc285c440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5466b323aa93219d02120f1dc285c440">&#9670;&nbsp;</a></span>IncludeType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/d38/classxii_preprocessor.htm#a5466b323aa93219d02120f1dc285c440">xiiPreprocessor::IncludeType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Describes the type of #include that was encountered during preprocessing. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5466b323aa93219d02120f1dc285c440add2663beedd14caf64de08c3bbff67d2"></a>MainFile&#160;</td><td class="fielddoc"><p>This is used for the very first access to the main source file. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5466b323aa93219d02120f1dc285c440acd5ef52c0d81c523794630162ba4c32a"></a>RelativeInclude&#160;</td><td class="fielddoc"><p>An #include "file" has been encountered. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5466b323aa93219d02120f1dc285c440a4567afb135f83dee498bc0efb40ade9a"></a>GlobalInclude&#160;</td><td class="fielddoc"><p>An #include &lt;file&gt; has been encountered. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8d2b0fe6b3cd5ed07ba982edb5a8b0e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d2b0fe6b3cd5ed07ba982edb5a8b0e9">&#9670;&nbsp;</a></span>AddCustomDefine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiPreprocessor::AddCustomDefine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a>&#160;</td>
          <td class="paramname"><em>sDefinition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a #define to the preprocessor, even before any file is processed. </p>
<p>This allows to have global macros that are always defined for all processed files, such as the current platform etc. <em>szDefinition</em> must be in the form of the text that follows a #define statement. So to define the macro "WIN32", just pass that string. You can define any macro that could also be defined in the source files.</p>
<p>If the definition is invalid, XII_FAILURE is returned. Also the preprocessor might end up in an invalid state, so using it any further might fail (including crashing). </p>

</div>
</div>
<a id="a93b71f8448ef611d1675debbca8904a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93b71f8448ef611d1675debbca8904a4">&#9670;&nbsp;</a></span>Process() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiPreprocessor::Process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a>&#160;</td>
          <td class="paramname"><em>sMainFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;&#160;</td>
          <td class="paramname"><em>ref_sOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bKeepComments</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bRemoveRedundantWhitespace</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bInsertLine</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes the given file and returns the result as a string. </p>
<p>This function creates a string from the tokenized result. If <em>bKeepComments</em> is true, all block and line comments are included in the output string, otherwise they are removed. </p>

</div>
</div>
<a id="a0fb750c2d84a820e60a278cd6ccea0cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb750c2d84a820e60a278cd6ccea0cf">&#9670;&nbsp;</a></span>Process() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiPreprocessor::Process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a>&#160;</td>
          <td class="paramname"><em>sMainFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/da9/classxii_hybrid_array.htm">xiiTokenParseUtils::TokenStream</a> &amp;&#160;</td>
          <td class="paramname"><em>ref_tokenOutput</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes the given file and returns the result as a stream of tokens. </p>
<p>This function is useful when you want to further process the output afterwards and thus need it in a tokenized form anyway. </p>

</div>
</div>
<a id="a72f4072a75f7a68b7ce95ee56cb3d93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72f4072a75f7a68b7ce95ee56cb3d93e">&#9670;&nbsp;</a></span>SetCustomFileCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xiiPreprocessor::SetCustomFileCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d45/classxii_tokenized_file_cache.htm">xiiTokenizedFileCache</a> *&#160;</td>
          <td class="paramname"><em>pFileCache</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows to specify a custom cache object that should be used for storing the tokenized result of files. </p>
<p>This allows to share one cache across multiple instances of <a class="el" href="../../db/d38/classxii_preprocessor.htm" title="xiiPreprocessor implements a standard C preprocessor. It can be used to pre-process files to get the ...">xiiPreprocessor</a> and across time. E.g. it makes it possible to prevent having to read and tokenize include files that are referenced often. </p>

</div>
</div>
<a id="a7abc99414b7d3aecf685bbf273c45a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7abc99414b7d3aecf685bbf273c45a50">&#9670;&nbsp;</a></span>SetFileLocatorFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xiiPreprocessor::SetFileLocatorFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d38/classxii_preprocessor.htm#ad21c37942e6b309ab2d921d3b288d4a0">FileLocatorCB</a>&#160;</td>
          <td class="paramname"><em>locateAbsFileCB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the callback that is needed to locate an input file. </p>
<p>The default file locator will assume that the main source file and all files #included in angle brackets can be opened without modification. Files #included in "" will be appended as relative paths to the path of the file they appeared in. </p>

</div>
</div>
<a id="a3608ef3fb7490e6b61b4a47b652a32a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3608ef3fb7490e6b61b4a47b652a32a0">&#9670;&nbsp;</a></span>SetFileOpenFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xiiPreprocessor::SetFileOpenFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d38/classxii_preprocessor.htm#a2c0ba26d5a348120e5f71fcd2ccc91f5">FileOpenCB</a>&#160;</td>
          <td class="paramname"><em>openAbsFileCB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the callback that is needed to read input data. </p>
<p>The default file open function will just try to open files via <a class="el" href="../../d6/de4/classxii_file_reader.htm" title="The default class to use to read data from a file, implements the xiiStreamReader interface.">xiiFileReader</a>. </p>

</div>
</div>
<a id="a8969fb1f9a7dda6037b00bb62f3f51ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8969fb1f9a7dda6037b00bb62f3f51ff">&#9670;&nbsp;</a></span>SetLogInterface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xiiPreprocessor::SetLogInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d6b/classxii_log_interface.htm">xiiLogInterface</a> *&#160;</td>
          <td class="paramname"><em>pLog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All error output is sent to the given <a class="el" href="../../d6/d6b/classxii_log_interface.htm" title="Base class for all logging classes.">xiiLogInterface</a>. </p>
<p>Note that when the preprocessor encounters any error, it will stop immediately and usually no output is generated. However, there are also a few cases where only a warning is generated, in this case preprocessing will continue without problems.</p>
<p>Additionally errors and warnings are also broadcast through m_ProcessingEvents. So if you want to output more detailed information, that method should be preferred, because the events carry more information about the current file and line number etc. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/CodeUtils/<a class="el" href="../../d1/d57/_preprocessor_8h_source.htm">Preprocessor.h</a></li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/CodeUtils/Implementation/Conditions.cpp</li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/CodeUtils/Implementation/Defines.cpp</li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/CodeUtils/Implementation/Expand.cpp</li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/CodeUtils/Implementation/FileHandling.cpp</li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/CodeUtils/Implementation/Macros.cpp</li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/CodeUtils/Implementation/Preprocessor.cpp</li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/CodeUtils/Implementation/PreprocessorParseHelper.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/d38/classxii_preprocessor.htm">xiiPreprocessor</a></li>
    <li class="footer">Generated on Thu May 16 2024 17:17:34 for XIIEngine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
