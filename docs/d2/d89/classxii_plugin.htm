<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XIIEngine: xiiPlugin Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../XII-Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XIIEngine
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.htm','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d2/d89/classxii_plugin.htm','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d8/db8/classxii_plugin-members.htm">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xiiPlugin Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../d2/d89/classxii_plugin.htm" title="xiiPlugin manages all dynamically loadable plugins.">xiiPlugin</a> manages all dynamically loadable plugins.  
 <a href="../../d2/d89/classxii_plugin.htm#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dd/d73/_plugin_8h_source.htm">Plugin.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d5a/structxii_plugin_1_1_init.htm">Init</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d72/structxii_plugin_1_1_plugin_info.htm">PluginInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains basic information about a loaded plugin.  <a href="../../dc/d72/structxii_plugin_1_1_plugin_info.htm#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a835b654aa18a187a1e8f5efb4784b93b"><td class="memItemLeft" align="right" valign="top"><a id="a835b654aa18a187a1e8f5efb4784b93b"></a>
static const <a class="el" href="../../dc/d22/classxii_event.htm">xiiCopyOnBroadcastEvent</a>&lt; const <a class="el" href="../../d9/dc8/structxii_plugin_event.htm">xiiPluginEvent</a> &amp; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#a835b654aa18a187a1e8f5efb4784b93b">Events</a> ()</td></tr>
<tr class="memdesc:a835b654aa18a187a1e8f5efb4784b93b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Code that needs to be execute whenever a plugin is loaded or unloaded can register itself here to be notified of such events. <br /></td></tr>
<tr class="separator:a835b654aa18a187a1e8f5efb4784b93b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a3737635ce865bd504a9503b78c218"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#ab6a3737635ce865bd504a9503b78c218">InitializeStaticallyLinkedPlugins</a> ()</td></tr>
<tr class="memdesc:ab6a3737635ce865bd504a9503b78c218"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the XII_PLUGIN_ON_LOADED() functions for all code that is already linked into the executable at startup.  <a href="../../d2/d89/classxii_plugin.htm#ab6a3737635ce865bd504a9503b78c218">More...</a><br /></td></tr>
<tr class="separator:ab6a3737635ce865bd504a9503b78c218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9985ef161651fb1a45c89d5072f1322"><td class="memItemLeft" align="right" valign="top"><a id="aa9985ef161651fb1a45c89d5072f1322"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#aa9985ef161651fb1a45c89d5072f1322">BeginPluginChanges</a> ()</td></tr>
<tr class="memdesc:aa9985ef161651fb1a45c89d5072f1322"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this before loading / unloading several plugins in a row, to prevent unnecessary re-initializations. <br /></td></tr>
<tr class="separator:aa9985ef161651fb1a45c89d5072f1322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a509096c1403108bc441d308e4e4b4a77"><td class="memItemLeft" align="right" valign="top"><a id="a509096c1403108bc441d308e4e4b4a77"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#a509096c1403108bc441d308e4e4b4a77">EndPluginChanges</a> ()</td></tr>
<tr class="memdesc:a509096c1403108bc441d308e4e4b4a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must be called to finish what BeginPluginChanges started. <br /></td></tr>
<tr class="separator:a509096c1403108bc441d308e4e4b4a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdce6322c273be6b3256f964198b2560"><td class="memItemLeft" align="right" valign="top"><a id="afdce6322c273be6b3256f964198b2560"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#afdce6322c273be6b3256f964198b2560">ExistsPluginFile</a> (<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sPluginFile)</td></tr>
<tr class="memdesc:afdce6322c273be6b3256f964198b2560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a plugin with the given name exists. Does not guarantee that the plugin could be loaded successfully. <br /></td></tr>
<tr class="separator:afdce6322c273be6b3256f964198b2560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0eff5d5a60bda0b8e4a9e6476328d99"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#aa0eff5d5a60bda0b8e4a9e6476328d99">LoadPlugin</a> (<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sPluginFile, <a class="el" href="../../d7/d55/structxii_bitflags.htm">xiiBitflags</a>&lt; <a class="el" href="../../db/d85/structxii_plugin_load_flags.htm">xiiPluginLoadFlags</a> &gt; flags=xiiPluginLoadFlags::Default)</td></tr>
<tr class="memdesc:aa0eff5d5a60bda0b8e4a9e6476328d99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to load a DLL dynamically into the program.  <a href="../../d2/d89/classxii_plugin.htm#aa0eff5d5a60bda0b8e4a9e6476328d99">More...</a><br /></td></tr>
<tr class="separator:aa0eff5d5a60bda0b8e4a9e6476328d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6457908044d3cbcc795bd9f7fbf58d77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#a6457908044d3cbcc795bd9f7fbf58d77">UnloadAllPlugins</a> ()</td></tr>
<tr class="memdesc:a6457908044d3cbcc795bd9f7fbf58d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unloads all previously loaded plugins in the reverse order in which they were loaded.  <a href="../../d2/d89/classxii_plugin.htm#a6457908044d3cbcc795bd9f7fbf58d77">More...</a><br /></td></tr>
<tr class="separator:a6457908044d3cbcc795bd9f7fbf58d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7076a96eb3d7e39f35ccf5fe8a8a7bdf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#a7076a96eb3d7e39f35ccf5fe8a8a7bdf">SetMaxParallelInstances</a> (xiiUInt32 uiMaxParallelInstances)</td></tr>
<tr class="memdesc:a7076a96eb3d7e39f35ccf5fe8a8a7bdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets how many tries the system will do to find a free plugin file name.  <a href="../../d2/d89/classxii_plugin.htm#a7076a96eb3d7e39f35ccf5fe8a8a7bdf">More...</a><br /></td></tr>
<tr class="separator:a7076a96eb3d7e39f35ccf5fe8a8a7bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46686f26ec9c62dc07819356ba664c23"><td class="memItemLeft" align="right" valign="top"><a id="a46686f26ec9c62dc07819356ba664c23"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d89/classxii_plugin.htm#a46686f26ec9c62dc07819356ba664c23">GetAllPluginInfos</a> (<a class="el" href="../../dc/da4/classxii_dynamic_array.htm">xiiDynamicArray</a>&lt; <a class="el" href="../../dc/d72/structxii_plugin_1_1_plugin_info.htm">PluginInfo</a> &gt; &amp;ref_infos)</td></tr>
<tr class="memdesc:a46686f26ec9c62dc07819356ba664c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about all currently loaded plugins. <br /></td></tr>
<tr class="separator:a46686f26ec9c62dc07819356ba664c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720fab84a77e53bd9ec865a0dfc0d035"><td class="memItemLeft" align="right" valign="top"><a id="a720fab84a77e53bd9ec865a0dfc0d035"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>GetPluginPaths</b> (<a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a> sPluginName, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;ref_sOriginalFile, <a class="el" href="../../d4/dbb/classxii_string_builder.htm">xiiStringBuilder</a> &amp;ref_sCopiedFile, xiiUInt8 uiFileCopyNumber)</td></tr>
<tr class="separator:a720fab84a77e53bd9ec865a0dfc0d035"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../d2/d89/classxii_plugin.htm" title="xiiPlugin manages all dynamically loadable plugins.">xiiPlugin</a> manages all dynamically loadable plugins. </p>
<p>To load a plugin, call <a class="el" href="../../d2/d89/classxii_plugin.htm#aa0eff5d5a60bda0b8e4a9e6476328d99" title="Tries to load a DLL dynamically into the program.">xiiPlugin::LoadPlugin()</a> with the filename of the plugin (without a path). The plugin DLL has to be located next to the application binary.</p>
<p>It is not possible to unload individual plugins, but you can unload all plugins. Make sure to only do this when no code and data from any of the plugins is still referenced somewhere.</p>
<p>When a plugin has a dependency on another plugin, it should contain a call to XII_PLUGIN_DEPENDENCY() in one of its cpp files. This instructs the system to load that plugin as well, and makes sure to delay initialization until all (transitive) dependencies are loaded.</p>
<p>A plugin may contain one or multiple XII_PLUGIN_ON_LOADED() and XII_PLUGIN_ON_UNLOADED() functions. These are called automatically once a plugin and all its dependencies are loaded. This can be used to make sure basic things get set up. For anything more complicated, use <a class="el" href="../../dd/d8e/classxii_startup.htm" title="The startup system makes sure to initialize and shut down all known subsystems in the proper order.">xiiStartup</a> instead. Once a plugin is loaded, the startup system will initialize new startup code properly. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab6a3737635ce865bd504a9503b78c218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6a3737635ce865bd504a9503b78c218">&#9670;&nbsp;</a></span>InitializeStaticallyLinkedPlugins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xiiPlugin::InitializeStaticallyLinkedPlugins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the XII_PLUGIN_ON_LOADED() functions for all code that is already linked into the executable at startup. </p>
<p>If code that was meant to be loaded dynamically ends up being statically linked (e.g. on platforms where only static linking is used), the XII_PLUGIN_ON_LOADED() functions should still be called. The application can decide when the best time is. Usually a good point in time is right before the app would load the first dynamic plugin. If this function is never called manually, but <a class="el" href="../../d2/d89/classxii_plugin.htm#aa0eff5d5a60bda0b8e4a9e6476328d99" title="Tries to load a DLL dynamically into the program.">xiiPlugin::LoadPlugin()</a> is called, this function will be called automatically before loading the first actual plugin. </p>

</div>
</div>
<a id="aa0eff5d5a60bda0b8e4a9e6476328d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0eff5d5a60bda0b8e4a9e6476328d99">&#9670;&nbsp;</a></span>LoadPlugin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/structxii_result.htm">xiiResult</a> xiiPlugin::LoadPlugin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d9d/structxii_string_view.htm">xiiStringView</a>&#160;</td>
          <td class="paramname"><em>sPluginFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d55/structxii_bitflags.htm">xiiBitflags</a>&lt; <a class="el" href="../../db/d85/structxii_plugin_load_flags.htm">xiiPluginLoadFlags</a> &gt;&#160;</td>
          <td class="paramname"><em>flags</em> = <code>xiiPluginLoadFlags::Default</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tries to load a DLL dynamically into the program. </p>
<p>XII_SUCCESS is returned when the DLL is either successfully loaded or has already been loaded before. XII_FAILURE is returned if the DLL cannot be located or it could not be loaded properly.</p>
<p>See <a class="el" href="../../db/d85/structxii_plugin_load_flags.htm" title="Flags for loading a plugin.">xiiPluginLoadFlags</a> for additional options. </p>

</div>
</div>
<a id="a7076a96eb3d7e39f35ccf5fe8a8a7bdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7076a96eb3d7e39f35ccf5fe8a8a7bdf">&#9670;&nbsp;</a></span>SetMaxParallelInstances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xiiPlugin::SetMaxParallelInstances </td>
          <td>(</td>
          <td class="paramtype">xiiUInt32&#160;</td>
          <td class="paramname"><em>uiMaxParallelInstances</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets how many tries the system will do to find a free plugin file name. </p>
<p>During plugin loading the system may create copies of the plugin DLLs. This only works if the system can find a file to write to. If too many instances of the engine are running, no such free file name might be found and plugin loading fails. This value specifies how often the system tries to find a free file. The default is 32. </p>

</div>
</div>
<a id="a6457908044d3cbcc795bd9f7fbf58d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6457908044d3cbcc795bd9f7fbf58d77">&#9670;&nbsp;</a></span>UnloadAllPlugins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xiiPlugin::UnloadAllPlugins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unloads all previously loaded plugins in the reverse order in which they were loaded. </p>
<p>Also calls XII_PLUGIN_ON_UNLOADED() of all statically linked code. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/Configuration/<a class="el" href="../../dd/d73/_plugin_8h_source.htm">Plugin.h</a></li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/Configuration/Implementation/Android/<a class="el" href="../../d9/d0f/_plugin___android_8h_source.htm">Plugin_Android.h</a></li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/Configuration/Implementation/Plugin.cpp</li>
<li>/home/runner/work/XII/XII/Source/Engine/Foundation/Configuration/Implementation/Posix/<a class="el" href="../../d0/d04/_plugin___posix_8h_source.htm">Plugin_Posix.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/d89/classxii_plugin.htm">xiiPlugin</a></li>
    <li class="footer">Generated on Tue Aug 15 2023 01:42:07 for XIIEngine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
